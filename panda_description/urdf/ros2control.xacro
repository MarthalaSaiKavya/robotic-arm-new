<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="panda_ros2_control_snippet">

  <!-- Macro to inject ros2_control configuration into the main robot -->
  <xacro:macro name="panda_ros2_control" params="">
    <ros2_control name="RobotSystem" type="system">
      <hardware>
        <plugin>mock_components/GenericSystem</plugin>
        <param name="joints">panda_joint1 panda_joint2 panda_joint3 panda_joint4 panda_joint5 panda_joint6 panda_joint7 panda_finger_joint1 panda_finger_joint2</param>
        <param name="command_interfaces">position</param>
        <param name="state_interfaces">position velocity</param>
      </hardware>

      <!-- Arm joints -->
      <joint name="panda_joint1" type="fixed">
        <command_interface name="position"/>
        <state_interface name="position"/>
        <state_interface name="velocity"/>
      </joint>
      <joint name="panda_joint2" type="fixed">
        <command_interface name="position"/>
        <state_interface name="position"/>
        <state_interface name="velocity"/>
      </joint>
      <joint name="panda_joint3" type="fixed">
        <command_interface name="position"/>
        <state_interface name="position"/>
        <state_interface name="velocity"/>
      </joint>
      <joint name="panda_joint4" type="fixed">
        <command_interface name="position"/>
        <state_interface name="position"/>
        <state_interface name="velocity"/>
      </joint>
      <joint name="panda_joint5" type="fixed">
        <command_interface name="position"/>
        <state_interface name="position"/>
        <state_interface name="velocity"/>
      </joint>
      <joint name="panda_joint6" type="fixed">
        <command_interface name="position"/>
        <state_interface name="position"/>
        <state_interface name="velocity"/>
      </joint>
      <joint name="panda_joint7" type="fixed">
        <command_interface name="position"/>
        <state_interface name="position"/>
        <state_interface name="velocity"/>
      </joint>

      <!-- Gripper joints -->
      <joint name="panda_finger_joint1" type="fixed">
        <command_interface name="position"/>
        <state_interface name="position"/>
        <state_interface name="velocity"/>
      </joint>
      <joint name="panda_finger_joint2" type="fixed">
        <command_interface name="position"/>
        <state_interface name="position"/>
        <state_interface name="velocity"/>
      </joint>
    </ros2_control>
  </xacro:macro>

</robot>
